/// <reference path="../components/font-awesome/scss/font-awesome.scss" />
$menu-border-color: #dcdcdc;
$nav-btn-bgcolor: rgb(255, 98, 98);

//Basic Styling
.main-nav {
    margin-bottom: 50px;
    overflow: hidden;
    width:100%;


    .navs {
        position:relative;
        visibility: hidden;
        opacity: 0;
        z-index: 3;


        a {
            color: inherit;
            &:hover {
                text-decoration: none;
            }
        }

        ul {
            list-style: none;
            padding:0;
            margin:0px;
            color:#fff;

            li:first-child {
                border-top: solid 1px lighten($nav-btn-bgcolor, 10%);
            }

            li {
                position:relative;
                border-bottom: solid 1px lighten($nav-btn-bgcolor, 10%);
                transform:scale(0); 
                transform-origin: left;
                overflow: hidden;

                &:before {
                    position:absolute;
                    content:"";
                    background-color: lighten($nav-btn-bgcolor, 3%);
                    width: 45px;
                    height:45px;
                    top:0px;
                    left:30px;
                    z-index: -1;
                    border-radius: 50%;
                    transform: scale(0);
                    transition: transform 200ms ease;


                }
                &:hover:before {
                    transition: transform 3000ms ease;
                    transform: scale(100);
                }

                a {
                    display:block;
                    padding: 10px 28px;
                }
            }
        }
    }
}
//menu, header
.nav-menu {
    position:relative;
    display:flex;
    justify-content: space-between;
    align-items: flex-end;
    /*border-bottom: solid 1px $menu-border-color;*/
    height: 65px;
}

//btn
.nav-btn, .nav-btn .background {
    width: 50px;
    height:50px;
    border-radius: 50%;
}

.nav-btn {
    position:absolute;
    top:50%;
    transform: translateY(-50%);
    left: 10px;
    cursor: pointer;

    .background {
        position:relative;
        z-index: 1;
        background-color: $nav-btn-bgcolor;
        transition: background-color 200ms;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);

    }

    &:hover {
        .background {
            width: 50px;
            height: 50px;
            background-color: lighten($nav-btn-bgcolor, 5%);
        }
    }
    &:before, &:after {
        position:absolute;
        content:"";
        height:4px;
        width: 18px;
        background-color: #fff;
        border-radius: 2px;
        transform: translate(-50%, -50%);
        z-index:2;
    }

    &:before {
        top:50%;
        left:50%;
        transform-origin:center;
    }

    &:after {
        top:calc(50% - 2px);
        left:calc(50% - 9px);
        transform: rotate(90deg);
        transform-origin:50% 50%;
    }
}

//Open styling

.main-nav.open {
    overflow: hidden;

    .navs {
        visibility: visible;
        opacity:1;

        ul {
            li {
                animation: show-nav-items 300ms forwards;
                animation-delay: 400ms;
            }
        }
    }
    .nav-btn {

        &:hover {
            .background {
                background-color: $nav-btn-bgcolor;
            }
        }
        .background {
            animation: open-expand-circle 1000ms forwards;
            z-index:-1;
        }
        &:before {
            animation: open-btn-before 500ms forwards;
        }

        &:after {
            animation: open-btn-after 500ms forwards;
        }
    }
}

.main-nav.closed {
    .navs {
        animation: closing-navs 200ms forwards;
    }
    .nav-btn {
        .background {
            animation: closed-expand-circle 500ms forwards;
        }
        &:before {
            animation: closed-btn-before 500ms forwards;
        }

        &:after {
            animation: closed-btn-after 500ms forwards;
        }
    }
}

//show navs
@keyframes closing-navs {
    0% {
        visibility: visible;
        opacity:1;
    }


    100% {
        visibility: hidden;
        opacity:0;
    }
}

//Show nav-items
@keyframes show-nav-items {
    0% {
        transform:scale(0); 
    }
    100% {
        transform: scale(1);
    }
}

//Expand circle
@keyframes open-expand-circle {
    0% {
        transform: scale(1);
    }

    100% {
        transform: scale(15);
    }
}

@keyframes closed-expand-circle {
    0% {
        transform: scale(15);
    }

    100% {
        transform: scale(1);
    }
}

//Open btn animation
@keyframes open-btn-before {
    0% {
        transform: rotate(0deg);
        top:calc(50% - 2px);
        left:calc(50% - 9px);
    }

    50% {
        transform: rotate(0deg);
        
    }

    100% {
        transform: rotate(-45deg);
        top:calc(50% - 2px);
        left:calc(50% - 9px);
        
    }
}

@keyframes open-btn-after {
    0% {
        transform: rotate(90deg);
    }

    50% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(45deg);

    }
}

//Closed btn animation
@keyframes closed-btn-before {
    0% {
        transform: rotate(-45deg);
        top:calc(50% - 2px);
        left:calc(50% - 9px);

    }

    50% {
        transform: rotate(0deg);
        
    }

    100% {
        transform: rotate(0deg);
        top:calc(50% - 2px);
        left:calc(50% - 9px);

    }
}

@keyframes closed-btn-after {
    0% {
        transform: rotate(45deg);

    }

    50% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(90deg);

    }
}